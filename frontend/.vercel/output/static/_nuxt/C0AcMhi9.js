import{r as p,e as h,f as w,c as u,o as c,a as e,b as C,d as m,t as n,g as a,h as y,v as k,i as b,w as M,n as _,T as F}from"./DE86NBQu.js";import{u as z}from"./B4gubVdS.js";const E={class:"min-h-screen bg-gray-50"},D={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},L={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-10"},I={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100"},j={class:"flex items-center space-x-4"},W={class:"text-2xl font-semibold text-gray-900"},R={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100"},T={class:"flex items-center space-x-4"},$={class:"text-sm font-semibold text-gray-900"},P={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100"},Q={class:"flex items-center space-x-4"},U={class:"text-2xl font-semibold text-gray-900"},K={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100"},q={class:"flex items-center space-x-4"},G={class:"text-2xl font-semibold text-gray-900"},J={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},O={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100"},X={class:"space-y-4"},Y={class:"relative rounded-md shadow-sm"},Z=["max"],ee={class:"flex justify-between mt-2"},te={class:"text-xs text-gray-500"},se=["disabled"],oe={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},le={class:"space-y-6"},re={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100"},ae={class:"space-y-4"},ne={class:"relative rounded-md shadow-sm"},ie=["max"],de={class:"flex justify-between mt-2"},ue={class:"text-xs text-gray-500"},ce=["disabled"],me={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},xe={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100"},ge={class:"flex items-center justify-between mb-4"},ve={class:"text-lg font-semibold text-gray-900"},pe=["disabled"],fe={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},be={key:0,class:"fixed bottom-4 right-4 max-w-sm w-full"},we={class:"p-4"},he={class:"flex items-start"},ye={class:"flex-shrink-0"},ke={key:0,class:"h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},_e={key:1,class:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},Ce={class:"ml-3 flex-1 pt-0.5"},Se={key:0,class:"mt-1"},He=["href"],Ve={class:"ml-4 flex-shrink-0 flex"},Be={__name:"StakeCard",setup(S){const s=z(),i=p("10"),x=p(!1),g=p(!1),l=p(null),d=p("0"),f=p(!1);h(()=>s.isConnected,o=>{o&&s.loadStakingData()},{immediate:!0});const H=o=>{const t=Number(o);return isNaN(t)?"0":t.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:4})};function v(o){const t=Number(o);if(isNaN(t))return o;const r=Math.abs(t);return r>=1e24?(t/1e24).toFixed(2)+"Sp":r>=1e21?(t/1e21).toFixed(2)+"Sx":r>=1e18?(t/1e18).toFixed(2)+"Qi":r>=1e15?(t/1e15).toFixed(2)+"Qa":r>=1e12?(t/1e12).toFixed(2)+"T":r>=1e9?(t/1e9).toFixed(2)+"B":r>=1e6?(t/1e6).toFixed(2)+"M":r>=1e3?(t/1e3).toFixed(2)+"K":t.toFixed(2)}const V=w(()=>Number(s.totalBalance).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:4}));w(()=>Number(s.stakedAmount).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:4})),w(()=>Number(s.pendingRewards).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:4}));const B=async()=>{if(!(!i.value||x.value||!s.isConnected))try{x.value=!0,l.value=null;const o=i.value.toString(),t=await s.stake(o);l.value={success:!0,message:"Staking transaction successful!",txHash:t.hash},await s.loadStakingData()}catch(o){console.error("Staking failed:",o),l.value={success:!1,message:o.message||"Staking transaction failed",txHash:null}}finally{x.value=!1}},N=async()=>{if(!(g.value||!s.isConnected))try{g.value=!0,l.value=null;const o=await s.claimRewards();l.value={success:!0,message:"Rewards claimed successfully!",txHash:o.hash},await s.loadStakingData()}catch(o){console.error("Claim failed:",o),l.value={success:!1,message:o.message||"Claim transaction failed",txHash:null}}finally{g.value=!1}},A=async()=>{if(!(!d.value||Number(d.value)<=0)){f.value=!0,l.value=null;try{const o=await s.withdraw(d.value);if(console.log("Withdraw result:",o),o.error)throw new Error(o.error);l.value={success:!0,message:"Withdrawal  successful!",txHash:o.hash},d.value=""}catch(o){throw console.error("Withdrawal error:",o),o}finally{f.value=!1}}};return h(l,o=>{o&&setTimeout(()=>{l.value=null},5e3)},{deep:!0}),(o,t)=>(c(),u("div",E,[e("main",D,[t[28]||(t[28]=e("div",{class:"mb-10 text-center"},[e("h2",{class:"text-3xl font-bold text-gray-900 mb-2"},"Staking Dashboard"),e("p",{class:"text-lg text-gray-600 max-w-2xl mx-auto"}," Stake your HIVE tokens to earn passive rewards ")],-1)),e("div",L,[e("div",I,[e("div",j,[t[7]||(t[7]=e("div",{class:"p-3 rounded-lg bg-blue-50"},[e("svg",{class:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",null,[t[6]||(t[6]=e("p",{class:"text-sm font-medium text-gray-500"},"Wallet Balance",-1)),e("p",W,[m(n(H(V.value))+" ",1),t[5]||(t[5]=e("span",{class:"text-gray-500 text-lg"},"ETH",-1))])])])]),e("div",R,[e("div",T,[t[10]||(t[10]=e("div",{class:"p-3 rounded-lg bg-green-50"},[e("svg",{class:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})])],-1)),e("div",null,[t[9]||(t[9]=e("p",{class:"text-sm font-medium text-gray-500"},"HIVE Balance",-1)),e("p",$,[m(n(v(a(s).tokenBalance))+" ",1),t[8]||(t[8]=e("span",{class:"text-gray-500 text-lg"},"HIVE",-1))])])])]),e("div",P,[e("div",Q,[t[13]||(t[13]=e("div",{class:"p-3 rounded-lg bg-purple-50"},[e("svg",{class:"h-6 w-6 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",null,[t[12]||(t[12]=e("p",{class:"text-sm font-medium text-gray-500"},"Staked Amount",-1)),e("p",U,[m(n(v(a(s).stakedAmount))+" ",1),t[11]||(t[11]=e("span",{class:"text-gray-500 text-lg"},"HIVE",-1))])])])]),e("div",K,[e("div",q,[t[16]||(t[16]=e("div",{class:"p-3 rounded-lg bg-yellow-50"},[e("svg",{class:"h-6 w-6 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",null,[t[15]||(t[15]=e("p",{class:"text-sm font-medium text-gray-500"},"Pending Rewards",-1)),e("p",G,[m(n(v(a(s).pendingRewards))+" ",1),t[14]||(t[14]=e("span",{class:"text-gray-500 text-lg"},"HIVE",-1))])])])])]),e("div",J,[e("div",O,[t[20]||(t[20]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-6"},"Stake HIVE",-1)),e("div",X,[e("div",null,[t[18]||(t[18]=e("label",{for:"stake-amount",class:"block text-sm font-medium text-gray-700 mb-2"},"Amount to Stake",-1)),e("div",Y,[y(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>i.value=r),type:"number",id:"stake-amount",class:"block w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"0.0",min:"0",max:a(s).tokenBalance,step:"any"},null,8,Z),[[k,i.value]]),t[17]||(t[17]=e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[e("span",{class:"text-gray-500 text-sm"},"HIVE")],-1))]),e("div",ee,[e("p",te,"Available: "+n(v(a(s).tokenBalance))+" HIVE",1),e("button",{onClick:t[1]||(t[1]=r=>i.value=a(s).tokenBalance),class:"text-xs text-blue-600 hover:text-blue-800"}," Max ")])]),e("button",{onClick:B,disabled:x.value||!a(s).isConnected||!i.value||Number(i.value)<=0,class:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg text-base font-medium text-white bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-70 disabled:cursor-not-allowed transition-colors"},[x.value?(c(),u("svg",oe,t[19]||(t[19]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):b("",!0),m(" "+n(x.value?"Processing...":"Stake Tokens"),1)],8,se)])]),e("div",le,[e("div",re,[t[24]||(t[24]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-6"},"Withdraw HIVE",-1)),e("div",ae,[e("div",null,[t[22]||(t[22]=e("label",{for:"withdraw-amount",class:"block text-sm font-medium text-gray-700 mb-2"},"Amount to Withdraw",-1)),e("div",ne,[y(e("input",{"onUpdate:modelValue":t[2]||(t[2]=r=>d.value=r),type:"number",id:"withdraw-amount",class:"block w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500",placeholder:"0.0",min:"0",max:a(s).stakedAmount,step:"any"},null,8,ie),[[k,d.value]]),t[21]||(t[21]=e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[e("span",{class:"text-gray-500 text-sm"},"HIVE")],-1))]),e("div",de,[e("p",ue,"Staked: "+n(v(a(s).stakedAmount))+" HIVE",1),e("button",{onClick:t[3]||(t[3]=r=>d.value=a(s).stakedAmount),class:"text-xs text-purple-600 hover:text-purple-800"}," Max ")])]),e("button",{onClick:A,disabled:f.value||!a(s).isConnected||!d.value||Number(d.value)<=0,class:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg text-base font-medium text-white bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-70 disabled:cursor-not-allowed transition-colors"},[f.value?(c(),u("svg",me,t[23]||(t[23]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):b("",!0),m(" "+n(f.value?"Processing...":"Withdraw Tokens"),1)],8,ce)])]),e("div",xe,[t[27]||(t[27]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-6"},"Claim Rewards",-1)),e("div",ge,[t[25]||(t[25]=e("p",{class:"text-sm text-gray-500"},"Available rewards",-1)),e("p",ve,n(v(a(s).pendingRewards))+" HIVE ",1)]),e("button",{onClick:N,disabled:g.value||!a(s).isConnected||Number(a(s).pendingRewards)<=0,class:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg text-base font-medium text-white bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-70 disabled:cursor-not-allowed transition-colors"},[g.value?(c(),u("svg",fe,t[26]||(t[26]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):b("",!0),m(" "+n(g.value?"Processing...":"Claim Rewards"),1)],8,pe)])])])]),C(F,{"enter-active-class":"transform ease-out duration-300 transition","enter-from-class":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2","enter-to-class":"translate-y-0 opacity-100 sm:translate-x-0","leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:M(()=>[l.value?(c(),u("div",be,[e("div",{class:_(`rounded-lg shadow-lg overflow-hidden ${l.value.success?"bg-green-50 border border-green-100":"bg-red-50 border border-red-100"}`)},[e("div",we,[e("div",he,[e("div",ye,[l.value.success?(c(),u("svg",ke,t[29]||(t[29]=[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)]))):(c(),u("svg",_e,t[30]||(t[30]=[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,-1)])))]),e("div",Ce,[e("p",{class:_(`text-sm font-medium ${l.value.success?"text-green-800":"text-red-800"}`)},n(l.value.message),3),l.value.txHash?(c(),u("div",Se,[e("a",{href:`https://etherscan.io/tx/${l.value.txHash}`,target:"_blank",rel:"noopener noreferrer",class:"text-xs font-medium text-blue-600 hover:text-blue-500"}," View on Etherscan ↗ ",8,He)])):b("",!0)]),e("div",Ve,[e("button",{onClick:t[4]||(t[4]=r=>l.value=null),class:"inline-flex text-gray-400 hover:text-gray-500 focus:outline-none"},t[31]||(t[31]=[e("span",{class:"sr-only"},"Close",-1),e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]))])])])],2)])):b("",!0)]),_:1})]))}},Ne={class:"p-6"},Fe={__name:"index",setup(S){return(s,i)=>(c(),u("main",null,[e("div",Ne,[i[0]||(i[0]=e("h1",{class:"text-2xl font-bold mb-4"},"🐝 StakeHive DApp",-1)),C(Be)])]))}};export{Fe as default};
